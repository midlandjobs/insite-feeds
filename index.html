<!DOCTYPE html>
<html lang="en">

  <head>

    <!-- site/metas -->
    <title>Kilbeg</title>
    <meta charset="UTF-8">
    <link rel="shortcut icon" href="public/images/favicon.png" />

    <!-- uikit -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/uikit@3.21.12/dist/css/uikit.min.css" />
    <link href="public/css/styles.css" rel="stylesheet">
    <link href="public/css/feed.css" rel="stylesheet">

    <!-- not -->
    <style type="text/css">
      .navbar{background-color:rgba(14,27,43,1.0)}
      .navbar .navbar-left .navbar__item .navbar__link{color:#fff;}
      .navbar-default .navbar-collapse{background-color:#0e1b2b}/*mobile nav*/
      .navbar .navbar-right .navbar__item .navbar__link.btn__blue,
      .navbar .navbar-right .navbar__item:first-child .navbar__link{color:#fff;}
      
      /*homepage styles*/
      .main-banner__head h1, .main-banner__head-text{color:rgba(255, 255, 255, 0.9); text-shadow: 2px 4px 5px rgba(0, 0, 0, 0.75);}
      .middle-banner > div, .middle-banner__description{color:rgba(255, 255, 255, 0.9)}
      
      .alert__block.subscribe__description{margin-top:2%; vertical-align:top;}
      
      /*buttons*/
      .btn__mjteal{background-color:#74c6ca; color:#fff; font-weight:bold}
      
      /*text pages*/
      .static-pages {max-width:1000px;}
      
      /*footer*/
      .footer .container div.copyright{width:50%; float:left}
      .footer .container div.leocredit{width:50%; float:left; text-align:right;}
    </style>

  </head>

  <body>

    <!-- navbar -->
    <nav class="navbar navbar-default">
      <div class="container container-fluid">
        <div class="logo navbar-header">
          <a class="logo__text navbar-brand" href="https://midlandjobs.ie">
            <img src="https://midlandjobs.ie/templates/BootstrapDND/assets/images/midlandjobs-logo-wh.png"
              alt="Midland Jobs">
          </a>
        </div>
        <div class="burger-button__wrapper burger-button__wrapper__js visible-sm visible-xs" data-target="#navbar-collapse"
          data-toggle="collapse">
          <a href="#" aria-label="Navigation Menu">
            <div class="burger-button"></div>
          </a>
        </div>
        <div class="collapse navbar-collapse" id="navbar-collapse">
          <div class="visible-sm visible-xs">
            <ul class="nav navbar-nav navbar-left">
              <li class="navbar__item ">
                <a class="navbar__link" href="/jobs/"><span>Jobs</span></a>
              </li>
              <li class="navbar__item ">
                <a class="navbar__link" href="/companies/"><span>Companies Hiring</span></a>
              </li>
              <li class="navbar__item ">
                <a class="navbar__link" href="/add-listing/?listing_type_id=Job"><span>Post a Job</span></a>
              </li>
              <li class="navbar__item ">
                <a class="navbar__link" href="/employer-products/"><span>Pricing</span></a>
              </li>
              <li class="navbar__item ">
                <a class="navbar__link" href="https://midlandjobs.ie/how-we-advertise-your-job/"><span>What we do</span></a>
              </li>
            </ul>
          </div>
          <ul class="nav navbar-nav navbar-right">
            <li class="navbar__item navbar__item ">
              <a class="navbar__link navbar__login" href="https://midlandjobs.ie/login/">Sign in</a>
            </li>
            <li class="navbar__item navbar__item__filled"><a class="navbar__link  btn__blue"
                href="https://midlandjobs.ie/registration/">Sign up</a></li>
          </ul>
          <div class="visible-md visible-lg">
            <ul class="nav navbar-nav navbar-left">
              <li class="navbar__item ">
                <a class="navbar__link" href="/jobs/"><span>Jobs</span></a>
              </li>
              <li class="navbar__item ">
                <a class="navbar__link" href="/companies/"><span>Companies Hiring</span></a>
              </li>
              <li class="navbar__item ">
                <a class="navbar__link" href="/add-listing/?listing_type_id=Job"><span>Post a Job</span></a>
              </li>
              <li class="navbar__item ">
                <a class="navbar__link" href="/employer-products/"><span>Pricing</span></a>
              </li>
              <li class="navbar__item ">
                <a class="navbar__link" href="https://midlandjobs.ie/how-we-advertise-your-job/"><span>What we do</span></a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </nav>

    <!-- <div id="Vacancies">
      <div class="uk-section-default uk-background-effect">
        <div class="uk-container uk-section">
          <h2 class="uk-text-center">Jobs</h2>
          <div id="MyJobs" class="feeds">
            <p>Loading...</p>
          </div>
        </div>
      </div>
    </div> -->

    <!-- uikit -->
    <script src="https://cdn.jsdelivr.net/npm/uikit@3.21.12/dist/js/uikit.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/uikit@3.21.12/dist/js/uikit-icons.min.js"></script>
    
    <!-- feed.js with jquery-3.1.0 -->
    <script type="text/javascript" src="public/js/local/feed.js"></script> 
    <script>
      // https://robertmccormack.com/wp-json/midlandjobs/v1/customFeed
      (async function () {
        var jobsData = await fetchJobsJson('/feeds/200.xml');
        const MyJobs = new JobBoardFilteredFeed(jobsData, {

          id: 42,

          counts: true,
          search: true,

          pagination: {
            visiblePages: 3, // set init visible pages within the pagination
            initPerPage: 10, // set an initial per page count (in case where perPage below is false/not set)
            perPage: {
              values: [3, 5, 8, 12] // per page dropdown options
            },
          },

          filters: [
            {
              key: 'company',
              singular: 'Company',
              plural: 'Companies',
              type: 'option',
              setArray: false,
              removeTerms: []
            },
            {
              key: 'jobtype',
              singular: 'Jobtype',
              plural: 'Jobtypes',
              type: 'option',
              setArray: true,
              removeTerms: []
            },
            {
              key: 'city',
              singular: 'Town/City',
              plural: 'Cities',
              type: 'option',
              setArray: false,
              removeTerms: []
            },
            {
              key: 'remote',
              singular: 'Remote',
              plural: 'Remotes',
              type: 'option',
              setArray: false,
              removeTerms: []
            },
            {
              key: 'category',
              singular: 'Category',
              plural: 'Categories',
              type: 'checkbox',
              setArray: true,
              removeTerms: []
            }
          ],

        });
        // var jobsQueryObj = JsonQuery(MyJobs.jobs); // do some querying & some sorting before rendering
        // var jobsQueryResults = jobsQueryObj.where({'company': 'Kilbeggan Community Group'}).exec();
        // var sortedQueriedJobs = MyJobs.sortTheJobs(jobsQueryResults, 'date');
        // MyJobs.jobs = sortedQueriedJobs; // reset the jobs property (optional; can also put the jobs into renderTheJobs 2nd param)
        MyJobs.renderTheJobs('#MyJobs'); // now render the jobs AFTER querying & sorting
        // console.log(MyJobs.dataForFilters());
      })();
    </script>

    <script id="job-template" type="text/html">
      <div class="job">
        <div class="uk-card uk-card-default uk-card-hover uk-card-body uk-padding-small uk-border-rounded">
          <div class="uk-grid-small uk-grid-match" uk-grid>

            <!-- job left (logo) -->
            <% if(companylogo.length > 0) { %>
            <div class="job-company-logo uk-width-small uk-first-column">
              <img src="<%= companylogo %>" alt="" class="company-logo img-contain">
            </div>
            <% } %>

            <!-- job main (center) -->
            <div class="job-details uk-width-expand uk-flex uk-flex-middle">
              <div>

                <div class="job-title">
                  <h4 class="uk-margin-remove uk-text-bold uk-text-capitalize uk-inline">
                    <a class="uk-link uk-link-heading" href="<%= url %>"><span hidden><%= _fid %>. </span><%= title.toLowerCase() %></a>
                  </h4>
                  <% if(typeof jobtypes !== 'undefined' && Array.isArray(jobtypes)) { %>
                    <% if(jobtypes.length> 0) { %> 
                      <span class="job-types">
                        <% for (let type of jobtypes) { %>
                          <% if(type !='Hybrid') { %>
                            <span class="uk-badge"><%= type %></span>
                          <% } else { %>
                            <span class="uk-badge uk-label-success">Hybrid</span>
                          <% } %>
                        <% } %>
                      </span>
                    <% } %>
                  <% } %>
                </div>

                <div class="uk-grid-match uk-grid-small uk-grid-divider uk-flex uk-flex-middle uk-text-small uk-text-capitalize" uk-grid>
                  <div class="job-company">
                    <% if(companywebsite.length> 0) { %><a href="<%= companywebsite %>" target="_blank" class=""><% } %>
                      <span class="company-text"><%= company.toLowerCase() %></span>
                    <% if(companywebsite.length> 0) { %></a><% } %>
                  </div>
                  <div class="job-location">
                    <span>
                      <span uk-icon="icon:location;"></span>
                      <% if(city.length > 0) { %>
                        <%= city.toLowerCase() %><% if(state.length > 0 || country.length > 0) { %>, <% } %>
                      <% } %>
                      <% if(state.length > 0) { %>
                        <%= state.toLowerCase() %><% if(country.length > 0) { %>, <% } %>
                      <% } %>
                      <% if(country.length > 0) { %>
                        <%= country.toLowerCase() %>
                      <% } %>
                    </span>
                  </div>
                </div>

              </div>
            </div>

            <!-- job right -->
            <div class="job-context uk-width-1-6">
              <div class="uk-position-relative uk-inline">
                <div class="the-date uk-position-top uk-text-right uk-text-muted uk-text-small">
                  <% var dt=new Date(date); %>
                  <span><%= dt.toLocaleDateString('en-GB') %></span>
                </div>
                <div class="the-context-menu uk-position-bottom-right">
                  <a href="#" class="uk-icon-button uk-icon" uk-icon="icon:more-vertical" role="button"></a>
                  <div uk-dropdown="mode:click; pos: bottom-right; boundary:#author-wrap" class="uk-drop uk-dropdown">
                    <ul class="uk-nav uk-dropdown-nav">
                      <li class="uk-nav-header">Actions</li>
                      <li><a href="#">Rate this author</a></li>
                      <li><a href="#">Follow this author</a></li>
                      <li><a href="#">Bookmark</a></li>
                      <li><a href="#">View more articles</a></li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>

          </div>
          <div class="uk-card uk-card-default uk-card-hover uk-border-rounded uk-grid-collapse" uk-grid hidden>
      
            <!-- card right: details -->
            <div class="uk-width-expand uk-flex uk-flex-middle">
              <div class="uk-card-body uk-padding-remove">
                <div class="job-details">
      
                  <!-- job title -->
                  <h5 class="uk-text-bold uk-h5 uk-margin-remove">
                    <a class="uk-link uk-link-heading" href="<%= url %>"><span hidden><%= _fid %>. </span><%= title %></a>
                  </h5>

                  <div class="uk-grid-match uk-grid-small uk-grid-divider" uk-grid>
                    <div>
                      <!-- company -->
                      <span class="uuuk-text-small">
                        <span uk-icon="icon:home;ratio:0.8"></span> <%= company %>
                      </span>
                    </div>
                    <div>
                      <!-- location -->
                      <span class="uuuk-text-small uk-text-capitalize">
                        <span uk-icon="icon:location;ratio:0.8"></span>
                        <% if(city.length > 0) { %>
                          <%= city %><% if(state.length > 0 || country.length > 0) { %>, <% } %>
                        <% } %>
                        <% if(state.length > 0) { %>
                          <%= state %><% if(country.length > 0) { %>, <% } %>
                        <% } %>
                        <% if(country.length > 0) { %>
                          <%= country %>
                        <% } %>
                      </span>
                    </div>
                  </div>

                </div>
              </div>
            </div>

            <!-- details: right -->
            <div class="uk-width-1-6 uk-inline">

              <!-- details right: top -->
              <div class="uk-position-top uk-text-right" hidden>

                <!-- job posted date -->
                <div class="the-date">
                  <% var dt=new Date(date); %>
                  <span class="uk-text-muted uk-text-small">
                    <%= dt.toLocaleDateString('en-GB') %>
                  </span>
                </div>
                <% if(typeof jobtypes !== 'undefined' && Array.isArray(jobtypes)) { %>
                  <!-- jobtype badges -->
                  <% if(jobtypes.length> 0) { %>
                    <div class="the-jobtypes">
                      <% for (let type of jobtypes) { %>
                        <% if(type !='Hybrid' ) { %>
                          <span class="uk-badge">
                            <%= type %>
                          </span>
                        <% } else { %>
                          <span class="uk-badge uk-label-success">Hybrid</span>
                        <% } %>
                      <% } %>
                    </div>
                    <% } %>
                <% } %>
                
              </div>

              <!-- details right: bottom. modal trigger & modal -->
              <div class="uk-position-top-right uk-position-small uk-text-right">
                <a href="#modal-overflow-<%= referencenumber %>" class="uk-text-muted" uk-icon="icon: expand; ratio: 1.3" uk-toggle></a>
                <!-- the actual modal -->
                <div id="modal-overflow-<%= referencenumber %>" uk-modal>
                  <div class="uk-modal-dialog">
                    <!-- modal close -->
                    <button class="uk-modal-close-default uk-light" type="button" uk-close></button>
                    <!-- modal header with title -->
                    <div class="uk-modal-header uk-background-primary uk-light">
                      <h4 class="uk-text-bold uk-h4">
                        <%= title %>
                      </h4>
                    </div>
                    <!-- modal body -->
                    <div class="uk-modal-body" uk-overflow-auto>
                      <!-- modal body header -->
                      <div class="uk-margin-bottom">
                        <!-- modal body header: first. logo & details -->
                        <div class="uk-grid-collapse uk-flex uk-flex-middle" uk-grid>
                          <!-- left: companylogo -->
                          <% if(companylogo.length> 0) { %> <div class="uk-width-small uk-card-media-left uk-cover-container uk-flex uk-flex-middle uk-flex-center">
                              <img class="company-logo" src="<%= companylogo %>" alt="">
                            </div>
                            <% } %>
                              <!-- right: details. title, company & location -->
                              <div class="uk-width-expand">
                                <div class="uk-card-body uk-padding-small">
                                  <div class="uk-grid-collapse" uk-grid>
                                    <!-- details: left -->
                                    <div class="uk-width-expand uk-flex uk-flex-middle">
                                      <div class="job-details">
                                        <!-- job title -->
                                        <h5 class="uk-text-bold uk-h5">
                                          <a class="uk-link uk-link-heading" href="<%= url %>">
                                            <%= _fid %>. <%= title %>
                                          </a>
                                        </h5>
                                        <!-- company -->
                                        <span class="uk-text-small">
                                          <span uk-icon="home" class="uk-margin-small-right"></span>
                                          <%= company %>
                                        </span>
                                        <br>
                                        <!-- location -->
                                        <span class="uk-text-small uk-text-capitalize">
                                          <span uk-icon="location" class="uk-margin-small-right"></span>
                                          <% if(city.length> 0) { %> <%= city %>
                                              <% if(state.length> 0 || country.length > 0) { %>, <% } %>
                                                  <% } %>
                                                    <% if(state.length> 0) { %> <%= state %>
                                                        <% if(country.length> 0) { %>, <% } %>
                                                            <% } %>
                                                              <% if(country.length> 0) { %> <%= country %>
                                                                  <% } %>
                                        </span>
                                        <br>
                                        <!-- company website -->
                                        <% if(companywebsite.length> 0) { %> <span class="uk-text-small">
                                            <span uk-icon="link" class="uk-margin-small-right"></span> <a href="<%= companywebsite %>" target="_blank" class="">
                                              <%= companywebsite %>
                                            </a>
                                          </span>
                                          <% } %>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                        </div>
                        <hr class="uk-hr uk-margin-small-top uk-margin-small-bottom">
                        <!-- modal body header: second. jobtype & date -->
                        <div>
                          <!-- jobtype badges -->
                          <% if(typeof jobtypes !== 'undefined' && Array.isArray(jobtypes)) { %>
                            <% if(jobtypes.length> 0) { %> <span class="the-jobtypes">
                                <% for (let type of jobtypes) { %>
                                  <% if(type !='Hybrid' ) { %>
                                    <span class="uk-badge">
                                      <%= type %>
                                    </span>
                                    <% } else { %>
                                      <span class="uk-badge uk-label-success">Hybrid</span>
                                      <% } %>
                                        <% } %>
                              </span>
                              <% } %>
                            <% } %>
                              <!-- date -->
                              <span class="the-date">
                                <% var dt=new Date(date); %>
                                  <span class="uk-text-muted uk-text-small" style="float:right">
                                    <%= dt.toLocaleDateString('en-GB') %>
                                  </span>
                              </span>
                        </div>
                      </div>
                      <!-- modal body. job description -->
                      <div>
                        <%= description %>
                      </div>
                    </div>
                    <!-- modal footer. buttons -->
                    <div class="uk-modal-footer uk-text-right"> {# <% if(companywebsite.length> 0) { %> <a href="<%= companywebsite %>" target="_blank" class="uk-button uk-button-default uk-button-small uk-text-capitalize uk-border-rounded">Visit Company Website <span uk-icon="icon: chevron-right; ratio: .7" class="uk-icon"></span></a>
                        <% } %> #} <a href="<%= url %>" target="_blank" class="uk-button uk-button-primary uk-button-small uk-text-capitalize uk-border-rounded">Apply Now <span uk-icon="icon: chevron-right; ratio: .7" class="uk-icon"></span></a>
                    </div>
                  </div>
                </div>
              </div>

            </div>
      
          </div>
        </div>
      </div>
    </script>

  </body>

</html>